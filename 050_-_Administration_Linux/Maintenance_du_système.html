<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

	<title>Maintenance du système</title>
    
	<meta name="generator" content="Zim 0.76.3 & the Ecodiv-responsive template">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:300&subset=latin,greek,latin-ext' rel='stylesheet' type='text/css'>
    <script type='text/javascript' src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.1.1.min.js"></script>
    <script type='text/javascript' src="../_resources/script.js" type="text/javascript"></script>
    <link rel="stylesheet" href="../_resources/style.css" type="text/css">
    <link rel="stylesheet" media="screen and (min-width: 1600px)" href="../_resources/style1.css" type="text/css">
    <link rel="stylesheet" media="screen and (max-width: 1600px) and (min-width:1000px)" href="../_resources/style2.css" type="text/css">
    <link rel="stylesheet" media="screen and (max-width: 999px) and (min-width:750px)" href="../_resources/style3.css" type="text/css">
    <link rel="stylesheet" media="screen and (max-width: 750px)" href="../_resources/style4.css" type="text/css">      
</head>
<body>    
	<div class="wrapper">
 
    <!--Collapsable menu-->    
        <div id="taskbar" style="color:#3D6E0F; font-weight:500;">
            <div id="menuicon">
                <a href="#" class="toggler" style="color:#CE5C00; text-decoration:none; line-height: 2em;"><img src="../_resources/menu.png" height="19" alt="Menu"></a> 
            </div>
            <div id="list">
                <div id="navigation">
                    <!-- To add additional links above the navigation menu, replace the link below with your link and remove comment tags
                    If you do, you may want to remove the extra line above the index -->
                    <!-- <p style="padding-left:20px; margin-bottom:0px"><a href="http://yourURL.html">Home</a></p> -->
                    <p></p>
                    <ul>
<li><a href="../000_-_Sommaire.html" title="000 - Sommaire" class="page">000 - Sommaire</a></li>
<li><a href="../010_-_Outils_Collaboratifs.html" title="010 - Outils Collaboratifs" class="page">010 - Outils Collaboratifs</a></li>
<li><a href="../020-Base_des_réseaux.html" title="020-Base des réseaux" class="page">020-Base des réseaux</a></li>
<li><a href="../030-OutilsClientMicrosoft.html" title="030-OutilsClientMicrosoft" class="page">030-OutilsClientMicrosoft</a></li>
<li><a href="../040_-_Environnement_GNU-Linux.html" title="040 - Environnement GNU-Linux" class="page">040 - Environnement GNU-Linux</a></li>
<li><a href="../050_-_Administration_Linux.html" title="050 - Administration Linux" class="page">050 - Administration Linux</a>
<ul>
<li><a href="./Analyse_du_système.html" title="Analyse du système" class="page">Analyse du système</a></li>
<li><a href="./Commandes.html" title="Commandes" class="page">Commandes</a></li>
<li><a href="./Droits_sur_les_fichiers_et_repertoires.html" title="Droits sur les fichiers et repertoires" class="page">Droits sur les fichiers et repertoires</a></li>
<li><a href="./Espaces_de_stockage.html" title="Espaces de stockage" class="page">Espaces de stockage</a></li>
<li><a href="./Eteindre_-_Redémarrer.html" title="Eteindre - Redémarrer" class="page">Eteindre - Redémarrer</a></li>
<li><a href="./Gestion_des_paquets.html" title="Gestion des paquets" class="page">Gestion des paquets</a></li>
<li><a href="./Gestion_des_utilisateurs_et_groupes.html" title="Gestion des utilisateurs et groupes" class="page">Gestion des utilisateurs et groupes</a></li>
<li><a href="./Gestion_du_réseau.html" title="Gestion du réseau" class="page">Gestion du réseau</a></li>
<li><a href="./GRUB.html" title="GRUB" class="page">GRUB</a></li>
<li><a href="./Maintenance_au_démarrage.html" title="Maintenance au démarrage" class="page">Maintenance au démarrage</a></li>
<li><b>Maintenance du système</b>
<ul>
<li><a href="./Maintenance_du_système/rsyslog.html" title="rsyslog" class="page">rsyslog</a></li>
</ul></li>
<li><a href="./Planification_Systeme.html" title="Planification Systeme" class="page">Planification Systeme</a></li>
<li><a href="./Systemd.html" title="Systemd" class="page">Systemd</a></li>
</ul></li>
<li><a href="../Ressources.html" title="Ressources" class="page">Ressources</a></li>
</ul>

                    <p></p>
                    <!-- Warning message if java script is disabled -->
                    <noscript>
                        <div style="padding: 10px">
                            <span style="color:#D48D8D"><p>Please note</p>
                            <p>To hide the menu</p>
                            <p>you need to enable</p>
                            <p>Java script</p></span>
                        </div>
                    </noscript>
                </div>
            </div>
        </div>
        <div id="block">
            <div id="content">
            
                <!-- You may want to replace the image below (but you are welcome to use it if you like) -->
                <img src="../_resources/header_1.png" width=100% alt="Header">
                <br>
                <h1>Maintenance du système <a name='050 - Administration Linux:Maintenance du système'></a></h1>
                
                <p>
Créée le jeudi 15 mai 2025
</p>

<p>
journald : systeme actuel pour voir les logs<br>
rsyslog : plus installé systématiquement
</p>




<h2>journald :<a id="journald-" class="h_anchor"></a></h2>

<p>
Fichier de configuration : <b>/etc/systemd/journald.conf</b>
</p>

<p>
concentre tous les événements <br>
=&gt; BDD<br>
<div style='padding-left: 60pt'>
&gt; volatile &gt; <b>/run/log/journal</b><br>
&gt; permanente &gt; <b>/var/log/journal</b>
</div>
</p>


<p>
Commande principale de visualisation des logs : <br>
<b><tt>journalctl	[-u unit] [-p] [--since "date" --until "date"]	[-b x]</tt></b>	
</p>

<p>
-u : unité demandée ; <tt>-u sshd</tt> permet de voir les logs du service ssh<br>
-p : niveau de gravité (warning, error)<br>
voir un créneau donné avec <tt>--since</tt> et <tt>--until</tt><br>
-b x : événements intervenus les x derniers démarrages
</p>



<h2>rsyslog :<a id="rsyslog-" class="h_anchor"></a></h2>

<p>
Fichiers de sortie "texte"
</p>


<p>
Généralement dans <b>/var/log</b>
</p>

<p>
Permet de faire remonter vers un serveur central pour traiter les logs vers un serveur central
</p>

<p>
visualisation avec les commandes classiques de lecture :<br>
voir la fin actualisée des logs : <b><tt>tail -n X</tt></b>			<br>
ou faire du filtrage avec : <b><tt>grep</tt></b>					
</p>

<p>
Fichier de config général : <b>/etc/rsyslog.conf</b><br>
<div style='padding-left: 180pt'>
 <b>et dans /etc/rsyslog.d/</b>*
</div>
</p>

<p>
<b>En cas de modif du fichier</b> rsyslog.conf, on redémarre le service avec <b><tt>systemctl restart rsyslog</tt></b>
</p>


<h5>Niveaux de gravité :<a id="niveaux-de-gravité-" class="h_anchor"></a></h5>

<p>
emetteur.NiveauGravité<br>
facility.8niveauxDeGravité<br>
<div style='padding-left: 30pt'>
 debug ... - Error - Warning - Critical -  Emergency
</div>
</p>


<p>
Facility : cron, auth, kern, mail, user
</p>


                <br>
                <span class="backlinks">
                </span>
                
                <!-- !! The script will center all images. If you prefer the default (images at left delete these three lines -->    
                <script>
                    $( "img" ).wrap( "<div class='imgcenter'></div>" );
                </script>
                
                
            
                <div id='footer'>
                    <p>Created with <a href='http://zim-wiki.org/'>Zim-wiki</a> & the <a href='https://github.com/ecodiv/Ecodiv-responsive'>Ecodiv-responsive template</a><p>
                </div>
            </div>
        </div>
	</div>
</body>
</html>
